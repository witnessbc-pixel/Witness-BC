<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Stories – WitnessBC</title>
  <meta name="description" content="Short, evidence-forward posts from WitnessBC. Pattern-level notes, explainers, and publish updates. Corrections are visible when needed. Privacy-first by default." />
  <link rel="canonical" href="https://www.witnessbc.com/stories/" />

  <meta property="og:site_name" content="WitnessBC" />
  <meta property="og:title" content="Stories – WitnessBC" />
  <meta property="og:description" content="Short, evidence-forward posts. Corrections visible when needed. Privacy-first by default." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://www.witnessbc.com/stories/" />
  <meta property="og:image" content="https://www.witnessbc.com/assets/img/og.png" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="theme-color" content="#fbfcfe" />

  <link rel="stylesheet" href="/assets/css/witness-shell.css?v=2025-12-16" />

  <!-- Structured data: CollectionPage (feed rendered by JS is still valid) -->
  <script type="application/ld+json" id="stories-schema">
  {
    "@context":"https://schema.org",
    "@type":"CollectionPage",
    "name":"Stories – WitnessBC",
    "url":"https://www.witnessbc.com/stories/",
    "description":"Short, evidence-forward posts from WitnessBC. Pattern-level notes, explainers, and publish updates. Corrections are visible when needed. Privacy-first by default.",
    "isPartOf":{
      "@type":"WebSite",
      "name":"WitnessBC",
      "url":"https://www.witnessbc.com/"
    },
    "publisher":{
      "@type":"Organization",
      "name":"WitnessBC",
      "url":"https://www.witnessbc.com/"
    }
  }
  </script>

  <style>
    /* Page-local upgrades that stay compatible with witness-shell.css */
    .stories-top{display:flex;gap:12px;flex-wrap:wrap;align-items:flex-end;justify-content:space-between}
    .stories-cta{display:flex;gap:10px;flex-wrap:wrap}
    .stories-status{display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:space-between}
    .stories-markers{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
    .stories-controls{display:flex;gap:12px;flex-wrap:wrap;align-items:center;justify-content:space-between}
    .stories-controls .group{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
  </style>
</head>

<body data-active="/stories/">
  <div class="bg-veil" aria-hidden="true"></div>
  <div id="site-header"></div>

  <main>
    <section class="section">
      <div class="wrap">
        <div class="kicker"><span class="kdot"></span><span>Stories</span></div>

        <div class="stories-top">
          <div style="min-width:260px;flex:1;">
            <h1 class="h1">Publishing feed.</h1>
            <p class="lead">
              Short posts, evidence-forward tone, and pattern-level framing. Corrections are visible when needed. Privacy-first intake by default.
            </p>
          </div>

          <div class="stories-cta">
            <!-- Use “Support” (better than “Tip”) -->
            <a class="btn btn--primary"
               href="https://buy.stripe.com/test_14AfZheov3gWfGlf33eIw00"
               target="_blank" rel="noopener"
               aria-label="Support WitnessBC via Stripe">
              Support publishing
            </a>

            <a class="btn btn--ghost"
               href="mailto:hello@witnessbc.com?subject=Story%20tip%20%E2%80%94%20WitnessBC"
               aria-label="Suggest a story via email">
              Suggest a story
            </a>
          </div>
        </div>

        <!-- Trust markers + compliance notes -->
        <div class="card" style="margin-top:16px">
          <div class="stories-status meta">
            <div>Latest update: <span id="stories-updated">—</span></div>
            <div class="stories-markers">
              <span class="pill">Corrections visible</span>
              <span class="pill">Privacy-first tips</span>
              <span class="pill">No investment offer</span>
            </div>
          </div>

          <div class="meta" style="margin-top:10px;">
            Support is not a charitable donation and is not tax-deductible. No tokens, shares, or returns are offered.
          </div>

          <div class="meta" style="margin-top:8px;">
            Reader support does not buy coverage, outcomes, or favourable treatment.
          </div>
        </div>

        <!-- Controls (optional, works as enhancement) -->
        <div class="card" style="margin-top:14px">
          <div class="stories-controls">
            <div class="group">
              <label class="meta" for="q">Search</label>
              <input id="q" class="input" type="search" placeholder="Search titles / tags" style="max-width:360px;" />
            </div>

            <div class="group">
              <label class="meta" for="tag">Filter</label>
              <!-- filter values should match tags used in stories.json OR data-tags rendered by stories.js -->
              <select id="tag" class="select" style="max-width:240px;">
                <option value="">All</option>
                <option value="Publish notes">Publish notes</option>
                <option value="Explainers">Explainers</option>
                <option value="Patterns">Patterns</option>
                <option value="Corrections">Corrections</option>
              </select>
            </div>
          </div>

          <div class="meta" style="margin-top:10px;">
            Publish standard: scope → sources/links → corrections (when needed) → one clear next-step action.
          </div>
        </div>

        <!-- No-JS fallback -->
        <noscript>
          <div class="card" style="margin-top:14px">
            <div class="meta">
              JavaScript is required to load the feed. Email
              <a href="mailto:hello@witnessbc.com?subject=Stories%20request%20%E2%80%94%20WitnessBC">hello@witnessbc.com</a>
              to request the latest posts.
            </div>
          </div>
        </noscript>

        <!-- Feed container (rendered by /assets/js/stories.js) -->
        <div id="stories" class="storygrid" style="margin-top:14px" aria-live="polite"></div>

        <!-- Footer CTAs + safe-tip guidance -->
        <div class="card" style="margin-top:14px">
          <div class="meta">
            Suggest a story: email
            <a href="mailto:hello@witnessbc.com?subject=Story%20tip%20%E2%80%94%20WitnessBC">hello@witnessbc.com</a>.
            Please keep first contact minimal. Avoid unnecessary identifiers (full names, addresses, ID numbers, medical records, or workplace-specific identifiers).
            <br /><br />
            This is not legal advice, not an emergency service, and not clinical care. If immediate safety is at risk, contact local emergency services (911 in Canada).
          </div>

          <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:12px;">
            <a class="btn btn--primary"
               href="https://buy.stripe.com/test_14AfZheov3gWfGlf33eIw00"
               target="_blank" rel="noopener">
              Support publishing
            </a>
            <a class="btn btn--ghost" href="/privacy/">Privacy</a>
            <a class="btn btn--ghost" href="/about/">About</a>
          </div>
        </div>

      </div>
    </section>
  </main>

  <div id="site-footer"></div>

  <script src="/assets/js/witness-shell.js?v=2025-12-16"></script>
  <script src="/assets/js/stories.js?v=2025-12-16"></script>

  <!-- Best-effort filtering without changing stories.js -->
  <script>
    (function () {
      var q = document.getElementById('q');
      var tag = document.getElementById('tag');
      var grid = document.getElementById('stories');
      if (!q || !tag || !grid) return;

      function norm(s){ return (s || '').toString().toLowerCase().trim(); }

      function applyFilters() {
        var query = norm(q.value);
        var t = norm(tag.value);

        // Expect stories.js to render each item with: data-story, data-title, data-tags
        var cards = grid.querySelectorAll('[data-story]');
        if (!cards.length) return;

        cards.forEach(function (el) {
          var title = norm(el.getAttribute('data-title'));
          var tags = norm(el.getAttribute('data-tags'));
          var hay = (title + ' ' + tags + ' ' + norm(el.textContent)).trim();

          var okQ = !query || hay.indexOf(query) !== -1;
          var okT = !t || tags.split(',').map(function(x){return norm(x);}).indexOf(t) !== -1;

          el.style.display = (okQ && okT) ? '' : 'none';
        });
      }

      q.addEventListener('input', applyFilters);
      tag.addEventListener('change', applyFilters);

      // re-apply after feed loads
      var tries = 0;
      var timer = setInterval(function () {
        tries++;
        applyFilters();
        if (grid.querySelectorAll('[data-story]').length || tries > 24) clearInterval(timer);
      }, 250);
    })();
  </script>
</body>
</html>
